{% extends 'blog/base.html' %}
{% block title %}Profile{% endblock %}
{% block content %}
<div class="text-center mb-4">
  <h3 class="text-success fw-bold">ðŸ‘¤ {{ user.first_name }}â€™s Profile</h3>
  {% if user.profile.avatar %}
    <img src="{{ user.profile.avatar.url }}" class="rounded-circle shadow" width="120" height="120">
  {% else %}
    <img src="https://via.placeholder.com/120" class="rounded-circle shadow">
  {% endif %}
  <p class="text-muted mt-2">{{ user.email }}</p>
</div>

<form method="POST" enctype="multipart/form-data" class="card p-4 mb-5 shadow">
  {% csrf_token %}
  {{ form.as_p }}
  <button class="btn btn-success w-100">Update Profile</button>
</form>

<h4 class="text-success mb-3">My Posts</h4>
{% for post in posts %}
<div class="card mb-3 shadow-sm">
  <div class="card-body">
    <h5>{{ post.title }}</h5>
    <p>{{ post.content|truncatechars:150 }}</p>
    <a href="{% url 'post_detail' slug=post.slug %}" class="btn btn-outline-success btn-sm">View</a>
  </div>
</div>
{% empty %}
<p class="text-muted text-center">You havenâ€™t posted yet.</p>
{% endfor %}
{% endblock %}
